window.Laya=window.Laya||{},function(e){"use strict";class t extends e.Script{constructor(){super(),this.intType=1e3,this.numType=1e3,this.strType="hello laya",this.boolType=!0}onEnable(){}onDisable(){}}var i,o=e.ClassUtils.regClass;!function(t){class i extends e.View{constructor(){super(),this.referenceClass=[e.Button,e.List,e.Box,e.Image,e.View]}createChildren(){super.createChildren(),this.createView(i.uiView)}}i.uiView={type:"View",props:{width:720,top:0,bottom:0},compId:2,child:[{type:"Button",props:{x:57,width:379,var:"btnName",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",labelSize:40,labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"苹果",height:89,bottom:40},compId:4},{type:"Button",props:{x:480,width:211,var:"btnNext",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",labelSize:40,labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"下一题",height:89,bottom:40},compId:5},{type:"Button",props:{y:39,width:260,var:"lblzq",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",right:60,mouseEnabled:!1,labelSize:35,labelColors:"#000000,#000000,#ffffff",label:"正确：0",height:89},compId:6},{type:"Button",props:{y:39,width:260,var:"lblcuo",stateNum:1,skin:"comp/btn_2.png",sizeGrid:"0,50,0,50",mouseEnabled:!1,left:60,labelSize:35,labelColors:"#000000,#000000,#ffffff",label:"错误：0",height:89},compId:7},{type:"List",props:{var:"list",top:140,spaceY:30,spaceX:30,selectEnable:!0,right:30,repeatY:2,repeatX:2,left:30,bottom:160},compId:11},{type:"Box",props:{var:"bigBox",top:140,right:30,left:30,bottom:160},compId:12,child:[{type:"Image",props:{var:"bigImg",centerY:0,centerX:0},compId:13}]}],loadList:["comp/btn_1.png","comp/btn_2.png"],loadList3D:[]},t.NameToPicUI=i,o("ui.NameToPicUI",i);class s extends e.View{constructor(){super(),this.referenceClass=[e.Image,e.Label,e.Button,e.View]}createChildren(){super.createChildren(),this.createView(s.uiView)}}s.uiView={type:"View",props:{width:720,height:520},compId:2,child:[{type:"Image",props:{y:0,x:0,width:720,var:"bg",skin:"comp/img_bg.png",sizeGrid:"109,57,22,50",name:"bg",height:520},compId:3},{type:"Image",props:{y:100,x:0,width:720,var:"img",name:"img",mouseEnabled:!0,height:420},compId:4},{type:"Label",props:{y:17,width:187,var:"txtName",valign:"middle",text:"苹果",name:"txtName",height:71,fontSize:60,font:"SimHei",color:"#ffffff",centerX:0,align:"center"},compId:5},{type:"Button",props:{y:111,var:"btnVoice",stateNum:1,skin:"comp/voice.png",right:13,name:"btnVoice"},compId:7},{type:"Button",props:{y:22,x:17,visible:!1,var:"btnDIY",stateNum:1,skin:"comp/btnDIY.png",name:"btnDIY"},compId:8}],loadList:["comp/img_bg.png","comp/voice.png","comp/btnDIY.png"],loadList3D:[]},t.PicItemUI=s,o("ui.PicItemUI",s);class a extends e.View{constructor(){super(),this.referenceClass=[e.Panel,e.VBox,e.Box,e.View,e.Button,e.Sprite]}createChildren(){super.createChildren(),this.createView(a.uiView)}}a.uiView={type:"View",props:{width:720,runtime:"script/GameUI.ts",height:1440},compId:1,child:[{type:"Panel",props:{x:0,width:720,var:"panel",vScrollBarSkin:"comp/vscroll.png",top:0,bottom:150},compId:44,child:[{type:"VBox",props:{y:0,x:0,width:720,var:"vs",space:25,align:"left"},compId:29}]},{type:"Panel",props:{x:0,width:720,height:150,hScrollBarSkin:"comp/vscroll.png",bottom:0},compId:45,child:[{type:"Box",props:{x:0,width:750,var:"tab",height:150},compId:35,child:[{type:"Button",props:{y:0,x:0,toggle:!0,skin:"comp/tab.png",selected:!0,labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"认识人物"},compId:42,child:[{type:"Sprite",props:{y:8,x:25,texture:"comp/ren.png",mouseEnabled:!1},compId:43}]},{type:"Button",props:{y:0,x:150,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"动物声音"},compId:40,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/anim.png",height:100,disabled:!0},compId:41}]},{type:"Button",props:{y:0,x:300,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"水果蔬菜"},compId:36,child:[{type:"Sprite",props:{y:8,x:25,texture:"comp/bru.png",mouseEnabled:!1},compId:37}]},{type:"Button",props:{y:0,x:450,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"交通工具"},compId:38,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/car.png",mouseEnabled:!1,height:100},compId:39}]},{type:"Button",props:{y:0,x:600,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"名称识图"},compId:46,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game1.png",mouseEnabled:!1,height:100},compId:47}]},{type:"Button",props:{y:0,x:750,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"看图辨声"},compId:48,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game2.png",mouseEnabled:!1,height:100},compId:49}]},{type:"Button",props:{y:0,x:900,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"听声识图"},compId:50,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game3.png",mouseEnabled:!1,height:100},compId:51}]}]}]}],loadList:["comp/vscroll.png","comp/tab.png","comp/ren.png","comp/anim.png","comp/bru.png","comp/car.png","comp/game1.png","comp/game2.png","comp/game3.png"],loadList3D:[]},t.PicListUI=a,o("ui.PicListUI",a);class n extends e.View{constructor(){super(),this.referenceClass=[e.View]}createChildren(){super.createChildren(),this.createView(n.uiView)}}n.uiView={type:"View",props:{width:100,height:100},loadList:[],loadList3D:[]},t.PicToVoiceUI=n,o("ui.PicToVoiceUI",n);class l extends e.View{constructor(){super(),this.referenceClass=[e.View]}createChildren(){super.createChildren(),this.createView(l.uiView)}}l.uiView={type:"View",props:{width:100,height:100},loadList:[],loadList3D:[]},t.VoiceToPicUI=l,o("ui.VoiceToPicUI",l)}(i||(i={}));class s{constructor(){}static init(){var o=e.ClassUtils.regClass;o("ui",i),o("script/GameUI.ts",t)}}s.width=720,s.height=1440,s.scaleMode="fixedwidth",s.screenMode="vertical",s.alignV="top",s.alignH="center",s.startScene="PicList.scene",s.sceneRoot="",s.debug=!1,s.stat=!1,s.physicsDebug=!1,s.exportSceneToJson=!0,s.init();class a{}a.nameToPicNum={zq:0,cw:0};var n=e.ClassUtils.regClass;class l extends e.View{constructor(){super(),this.referenceClass=[e.Button,e.List,e.Box,e.Image,e.View]}createChildren(){super.createChildren(),this.createView(l.uiView)}}l.uiView={type:"View",props:{width:720,top:0,bottom:0},compId:2,child:[{type:"Button",props:{x:57,width:379,var:"btnName",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",labelSize:40,labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"苹果",height:89,bottom:40},compId:4},{type:"Button",props:{x:480,width:211,var:"btnNext",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",labelSize:40,labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"下一题",height:89,bottom:40},compId:5},{type:"Button",props:{y:39,width:260,var:"lblzq",stateNum:1,skin:"comp/btn_1.png",sizeGrid:"0,50,0,50",right:60,mouseEnabled:!1,labelSize:35,labelColors:"#000000,#000000,#ffffff",label:"正确：0",height:89},compId:6},{type:"Button",props:{y:39,width:260,var:"lblcuo",stateNum:1,skin:"comp/btn_2.png",sizeGrid:"0,50,0,50",mouseEnabled:!1,left:60,labelSize:35,labelColors:"#000000,#000000,#ffffff",label:"错误：0",height:89},compId:7},{type:"List",props:{var:"list",top:140,spaceY:30,spaceX:30,selectEnable:!0,right:30,repeatY:2,repeatX:2,left:30,bottom:160},compId:11},{type:"Box",props:{var:"bigBox",top:140,right:30,left:30,bottom:160},compId:12,child:[{type:"Image",props:{var:"bigImg",centerY:0,centerX:0},compId:13}]}],loadList:["comp/btn_1.png","comp/btn_2.png"],loadList3D:[]},n("ui.NameToPicUI",l);class p extends e.View{constructor(){super(),this.referenceClass=[e.Image,e.Label,e.Button,e.View]}createChildren(){super.createChildren(),this.createView(p.uiView)}}p.uiView={type:"View",props:{width:720,height:520},compId:2,child:[{type:"Image",props:{y:0,x:0,width:720,var:"bg",skin:"comp/img_bg.png",sizeGrid:"109,57,22,50",name:"bg",height:520},compId:3},{type:"Image",props:{y:100,x:0,width:720,var:"img",name:"img",mouseEnabled:!0,height:420},compId:4},{type:"Label",props:{y:17,width:187,var:"txtName",valign:"middle",text:"苹果",name:"txtName",height:71,fontSize:60,font:"SimHei",color:"#ffffff",centerX:0,align:"center"},compId:5},{type:"Button",props:{y:111,var:"btnVoice",stateNum:1,skin:"comp/voice.png",right:13,name:"btnVoice"},compId:7},{type:"Button",props:{y:22,x:17,visible:!1,var:"btnDIY",stateNum:1,skin:"comp/btnDIY.png",name:"btnDIY"},compId:8}],loadList:["comp/img_bg.png","comp/voice.png","comp/btnDIY.png"],loadList3D:[]},n("ui.PicItemUI",p);class r extends e.View{constructor(){super(),this.referenceClass=[e.Panel,e.VBox,e.Box,e.View,e.Button,e.Sprite]}createChildren(){super.createChildren(),this.createView(r.uiView)}}r.uiView={type:"View",props:{width:720,runtime:"script/GameUI.ts",height:1440},compId:1,child:[{type:"Panel",props:{x:0,width:720,var:"panel",vScrollBarSkin:"comp/vscroll.png",top:0,bottom:150},compId:44,child:[{type:"VBox",props:{y:0,x:0,width:720,var:"vs",space:25,align:"left"},compId:29}]},{type:"Panel",props:{x:0,width:720,height:150,hScrollBarSkin:"comp/vscroll.png",bottom:0},compId:45,child:[{type:"Box",props:{x:0,width:750,var:"tab",height:150},compId:35,child:[{type:"Button",props:{y:0,x:0,toggle:!0,skin:"comp/tab.png",selected:!0,labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"认识人物"},compId:42,child:[{type:"Sprite",props:{y:8,x:25,texture:"comp/ren.png",mouseEnabled:!1},compId:43}]},{type:"Button",props:{y:0,x:150,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"动物声音"},compId:40,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/anim.png",height:100,disabled:!0},compId:41}]},{type:"Button",props:{y:0,x:300,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"水果蔬菜"},compId:36,child:[{type:"Sprite",props:{y:8,x:25,texture:"comp/bru.png",mouseEnabled:!1},compId:37}]},{type:"Button",props:{y:0,x:450,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"交通工具"},compId:38,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/car.png",mouseEnabled:!1,height:100},compId:39}]},{type:"Button",props:{y:0,x:600,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"名称识图"},compId:46,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game1.png",mouseEnabled:!1,height:100},compId:47}]},{type:"Button",props:{y:0,x:750,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"看图辨声"},compId:48,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game2.png",mouseEnabled:!1,height:100},compId:49}]},{type:"Button",props:{y:0,x:900,toggle:!0,skin:"comp/tab.png",labelSize:20,labelPadding:"50",labelFont:"SimHei",labelColors:"#000000,#000000,#ffffff",label:"听声识图"},compId:50,child:[{type:"Sprite",props:{y:8,x:25,width:100,texture:"comp/game3.png",mouseEnabled:!1,height:100},compId:51}]}]}]}],loadList:["comp/vscroll.png","comp/tab.png","comp/ren.png","comp/anim.png","comp/bru.png","comp/car.png","comp/game1.png","comp/game2.png","comp/game3.png"],loadList3D:[]},n("ui.PicListUI",r);class h extends e.View{constructor(){super(),this.referenceClass=[e.View]}createChildren(){super.createChildren(),this.createView(h.uiView)}}h.uiView={type:"View",props:{width:100,height:100},loadList:[],loadList3D:[]},n("ui.PicToVoiceUI",h);class c extends e.View{constructor(){super(),this.referenceClass=[e.View]}createChildren(){super.createChildren(),this.createView(c.uiView)}}c.uiView={type:"View",props:{width:100,height:100},loadList:[],loadList3D:[]},n("ui.VoiceToPicUI",c);class d extends h{constructor(){super()}}class g extends c{constructor(){super()}}class m extends e.Box{constructor(){super(),this.img=new e.Image,this.img.centerX=0,this.img.centerY=0,this.img.on(e.Event.LOADED,this,this.onLoaded),this.addChild(this.img),this.on(e.Event.RESIZE,this,this.onResize)}onResize(){if(this.img.source){var e=this.img.source.width/this.img.source.height;e>this.width/this.height?(this.img.width=this.width,this.img.height=this.img.width/e):(this.img.height=this.height,this.img.width=this.img.height*e)}}onLoaded(){this.onResize()}set dataSource(e){this.img.skin=e.img,this.visible=!0}}class b{constructor(){this.preNameToPic={}}static get instance(){return b._instance||(b._instance=new b),b._instance}getOneNameToPicByType(){for(var e=Math.floor(4*Math.random()),t=a.jsonData[e].concat(),i=[],o=0;o<4;o++){var s=Math.floor(t.length*Math.random());if(0==o){for(;e==this.preNameToPic.type&&s==this.preNameToPic.index;)s=Math.floor(t.length*Math.random());this.preNameToPic.type=e,this.preNameToPic.index=s}var n=t.splice(s,1);i.push(n[0])}return i}}class u extends l{constructor(){super(),this.list.itemRender=m,this.list.renderHandler=new e.Handler(this,this.onRender),this.on(e.Event.DISPLAY,this,this.onAddtoStage),this.btnName.on(e.Event.CLICK,this,this.onSayName),this.btnNext.on(e.Event.CLICK,this,this.onPlayNext),this.list.on(e.Event.RESIZE,this,this.onResize)}onAddtoStage(){this.bigImg.visible=!1,this.list.visible=!0;var e=b.instance.getOneNameToPicByType();this.btnName.label=e[0].name,this.firstVO=e[0],this.onSayName(),this.dataArr=[];for(var t=0;t<4;t++){var i=Math.floor(e.length*Math.random());this.dataArr.push(e.splice(i,1)[0])}this.list.dataSource=this.dataArr}onClick(t){if(this.dataArr[t]==this.firstVO){if(this.lblzq.label="正确："+ ++a.nameToPicNum.zq,this.bigImg.x=this.list.x,this.bigImg.y=this.list.y,this.bigImg.skin=this.firstVO.img,this.bigImg.visible=!0,this.list.visible=!1,this.bigImg.source){var i=this.bigImg.source.width/this.bigImg.source.height;i>this.bigBox.width/this.bigBox.height?(this.bigImg.width=this.bigBox.width,this.bigImg.height=this.bigImg.width/i):(this.bigImg.height=this.bigBox.height,this.bigImg.width=this.bigImg.height*i)}e.SoundManager.playSound("res/sound/duile.mp3")}else this.lblcuo.label="错误："+ ++a.nameToPicNum.cw,e.SoundManager.playSound("res/sound/budui.mp3")}onSayName(){e.SoundManager.playSound(this.firstVO.sound)}onPlayNext(){this.onAddtoStage()}onRender(t,i){var o=Math.floor((this.list.width-this.list.spaceX)/2),s=Math.floor((this.list.height-this.list.spaceY)/2);t.width=o,t.height=s,t.on(e.Event.CLICK,this,this.onClick,[i])}onResize(){for(var e=Math.floor((this.list.width-this.list.spaceX)/2),t=Math.floor((this.list.height-this.list.spaceY)/2),i=0;i<4;i++){var o=this.list.getCell(i);o.width=e,o.height=t}}}class f extends p{constructor(){super(),this.canPlay=!0,this.img.on(e.Event.LOADED,this,this.onImgloaded),this.on(e.Event.CLICK,this,this.onMouseHandler),this.btnVoice.on(e.Event.CLICK,this,this.onVoice)}set data(e){this._data=e,this.btnVoice.visible=this.data.voice}get data(){return this._data}display(){this.txtName.text=this.data.name,this.img.skin=this.data.img,this.isDisplay=!0}onImgloaded(){var e=this.img.source,t=this.img.width/e.width,i=Math.ceil(e.height*t);this.img.height=i,this.bg.height=this.height=i+100}onMouseHandler(t){this.canPlay&&t.target.name.indexOf("btn")<0&&this.data.sound&&(e.SoundManager.playSound(this.data.sound),this.canPlay=!1,e.Laya.timer.loop(600,this,this.onReset))}onVoice(){this.canPlay&&this.data.voice&&(e.SoundManager.playSound(this.data.voice),this.canPlay=!1,e.Laya.timer.loop(600,this,this.onReset))}onReset(){this.canPlay=!0,e.Laya.timer.clear(this,this.onReset)}}class y extends r{constructor(){super(),this.preSelectIndex=0,y.instance=this,e.MouseManager.multiTouchEnabled=!1}createChildren(){super.createChildren(),this.tab.on(e.Event.CLICK,this,this.onTabclick),this.panel.vScrollBar.visible=!1,this.panel.vScrollBar.changeHandler=new e.Handler(this,this.onChange),this.topspace=new e.UIComponent,this.topspace.width=this.topspace.height=50,this.on(e.Event.DISPLAY,this,this.onDisplay),this.on(e.Event.UNDISPLAY,this,this.onUnDisplay)}onDisplay(){this.onResize(),e.Laya.stage.on(e.Event.RESIZE,this,this.onResize)}onUnDisplay(){e.Laya.stage.off(e.Event.RESIZE,this,this.onResize)}onResize(){this.height=e.Laya.stage.height}onTabclick(e){var t=e.target;this.selectedIndex=this.tab.getChildIndex(t)}set dataSource(e){this._dataSource=e,this.selectedIndex=0}set selectedIndex(e){this._selectedIndex=e;var t=this.tab.getChildAt(this.preSelectIndex);t.selected=!1,(t=this.tab.getChildAt(e)).selected=!0,this.preSelectIndex=e,this.onTabSelect(e)}get selectedIndex(){return this._selectedIndex}onTabSelect(t){if(this.panel.vScrollBar.stopScroll(),this.panel.vScrollBar.value=0,this.vs.removeChildren(),this.removeAllGame(),t>=4)this.onTabToGame(t);else{var i=this._dataSource[t];this.vs.addChild(this.topspace);for(var o=0,s=i.length;o<s;o++){var a=new f;a.data=i[o],a.btnDIY.visible=!0,a.btnDIY.on(e.Event.CLICK,this,this.onDIY,[o]),this.vs.addChild(a),o<4&&a.display()}}}onChange(e){for(var t=this.vs.numChildren,i=1;i<t;i++){var o=this.vs.getChildAt(i);!o.isDisplay&&o.y<this.panel.height+this.panel.vScrollBar.value+400&&o.display()}}onDIY(e){var t=this;window.wx&&window.wx.chooseImage&&window.wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(i){var o=i.tempFilePaths[0];t.vs.getChildAt(e+1).img.skin=o,a.jsonData[t.selectedIndex+""][e].img=o;var s=JSON.stringify(a.jsonData);s&&window.wx.setStorage({key:"jsonData",data:""+s})}})}onTabToGame(e){switch(e){case 4:this.nameToPic||(this.nameToPic=new u),this.panel.addChild(this.nameToPic);break;case 5:this.voiceToPic||(this.voiceToPic=new g),this.panel.addChild(this.voiceToPic);break;case 6:this.picToVoice||(this.picToVoice=new d),this.panel.addChild(this.picToVoice)}}removeAllGame(){this.nameToPic&&this.nameToPic.removeSelf(),this.voiceToPic&&this.voiceToPic.removeSelf(),this.picToVoice&&this.picToVoice.removeSelf()}}new class{constructor(){e.Laya.Browser.window.clearAll&&e.Laya.Browser.window.clearAll(),window.Laya3D?window.Laya3D.init(s.width,s.height):e.Laya.init(s.width,s.height,e.WebGL),e.Laya.DebugPanel&&e.Laya.DebugPanel.enable(),e.Laya.stage.scaleMode=s.scaleMode,e.Laya.stage.screenMode=s.screenMode,e.Laya.stage.alignV=s.alignV,e.Laya.stage.alignH=s.alignH,e.URL.exportSceneToJson=s.exportSceneToJson,(s.debug||"true"==e.Utils.getQueryString("debug"))&&e.Laya.enableDebugPanel(),s.stat&&e.Stat.show(),e.Laya.alertGlobalError(!0),e.ResourceVersion.enable("version.json",e.Handler.create(this,this.onVersionLoaded),e.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){if(window.wx)try{var t=window.wx.getStorageSync("jsonData");t&&(a.jsonData=JSON.parse(t))}catch(e){a.jsonData=null}var i=[{url:"res/atlas/comp.json",type:e.Loader.ATLAS}];a.jsonData||i.push({url:"config.json",type:e.Loader.TEXT}),e.Laya.loader.load(i,e.Handler.create(this,this.onConfigLoaded))}loadSinglePackage(e,t,i=0){var o=this,s={name:e,errNum:i,success:function(e){t&&t()},fail:function(i){s.errNum<0?(s.errNum=1,o.loadSinglePackage(e,t,1)):console.log(i.errMsg)}};window.wx.loadSubpackage(s)}loadPackListSync(e,t){for(var i=0,o=function(){++i>=e.length&&t&&t()},s=e.length-1;s>=0;s--)this.loadSinglePackage(e[s],o)}initWXGameMain(){if(window.wx.loadSubpackage){var e=this;this.loadPackListSync(["content1","content2","content3","content4"],function(){e.onCreatePic()})}}onConfigLoaded(){window.wx?this.initWXGameMain():this.onCreatePic()}onCreatePic(){var t=new y;if(e.Laya.stage.addChild(t),a.jsonData)t.dataSource=a.jsonData;else{var i=e.Laya.loader.getRes("config.json");i&&(a.jsonData=JSON.parse(i),t.dataSource=a.jsonData,window.wx&&window.wx.setStorage({key:"jsonData",data:""+i}))}}}}(Laya);